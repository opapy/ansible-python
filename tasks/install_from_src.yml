- name: "install dependence packages"
  yum: name={{ item }} state=installed
  with_items:
    - gcc
    - openssl-devel
    - bzip2-devel
    - libxslt-devel
    - sqlite-devel

- name: "wget python package"
  get_url: url={{ python_src_url }} dest=/tmp

- name: "expand python"
  command: tar xzvf Python-{{ python_version }}.tgz chdir=/tmp

- name: "install Python"
  shell: >-
    ./configure --prefix={{ python_prefix }} &&
    make &&
    make install chdir=/tmp/Python-{{ python_version }}
